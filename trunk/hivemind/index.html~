<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title> .:: Scout Screen Synchronizer ::. </title>
</head>
<body>
    <h2> .:: Scout Screen Synchronizer ::. </h2>
    <form method="post" action="/hivemind/update">
        <div>
            {{ status }}
            <p><input type="submit" name="update" value="Update" /></p>
        </div>
    </form>
    <form method="post" action="/hivemind/search">
    <div>
        <input type="text" name="searched_term" value="" id="searched_term" />
        <input type="submit" name="search" value="Search" /><br />
        <input type="radio" name="searchby" value="player" id="player" checked="checked" /><label for="player">Player</label><br />
        <input type="radio" name="searchby" value="planet" id="planet" /><label for="planet">Planet</label><br />
    </div>
    </form>
    {% ifequal searchby "planet" %}
        <div>
            <table border="1" cellspacing="0" cellpadding="1">
                <caption>Present fleets on planet {{ searched_term }}</caption>
                <tr>
                    <th>Owner</th>
                    <th>Defending</th>
                    <th>Race</th>
                    <th>Cruisers</th>
                    <th>Destroyers</th>
                    <th>Bombers</th>
                    <th>Scouts</th>
                    <th>CAs</th>
                    <th>GAs</th>
                </tr>
                {% for result in search_result %}
                    <tr>
                        <td>{{ result.owner.name }}</td>
                        <td>{{ result.defend }}</td>
                        <td>{{ result.race }}</td>
                        <td>{{ result.cruisers }}</td>
                        <td>{{ result.destroyers }}</td>
                        <td>{{ result.bombers }}</td>
                        <td>{{ result.scouts }}</td>
                        <td>{{ result.carmies }}</td>
                        <td>{{ result.garmies }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    {% endifequal %}
    {% ifequal searchby "player" %}
        <div>
            {% for result in search_result %}
                <table border="1" cellspacing="0" cellpadding="1">
                    <caption>Fleets owned by player {{ result.owner.name }} on planet {{ result.location.name }}</caption>
                    <tr>
                        <th>Owner</th>
                        <th>Defending</th>
                        <th>Race</th>
                        <th>Cruisers</th>
                        <th>Destroyers</th>
                        <th>Bombers</th>
                        <th>Scouts</th>
                        <th>CAs</th>
                        <th>GAs</th>
                    </tr>
                    <tr>
                        <td>{{ result.owner.name }}</td>
                        <td>{{ result.defend }}</td>
                        <td>{{ result.race }}</td>
                        <td>{{ result.cruisers }}</td>
                        <td>{{ result.destroyers }}</td>
                        <td>{{ result.bombers }}</td>
                        <td>{{ result.scouts }}</td>
                        <td>{{ result.carmies }}</td>
                        <td>{{ result.garmies }}</td>
                    </tr>
                </table><br />
            {% endfor %}
        </div>
    {% endifequal %}
</body>
</html>
